"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[110],{65110:(Mo,$e,s)=>{s.r($e),s.d($e,{LayoutModule:()=>Ao});var v=s(38867),y=s(36895),o=s(41571),At=s(98099),h=s(90433),D=s(20388),Ze=s(3755),B=s(7849),Mt=s(12553);function Pt(e,n){1&e&&(o.\u0275\u0275elementStart(0,"div",15),o.\u0275\u0275text(1," Please enter old password. "),o.\u0275\u0275elementEnd())}function Nt(e,n){1&e&&(o.\u0275\u0275elementStart(0,"div",15),o.\u0275\u0275text(1," Please enter new password. "),o.\u0275\u0275elementEnd())}function Dt(e,n){1&e&&(o.\u0275\u0275elementStart(0,"div",15),o.\u0275\u0275text(1,"Please enter confirm password. "),o.\u0275\u0275elementEnd())}let Ot=(()=>{class e{constructor(t,i,r,a,l){this.bsModalRef=t,this.http=i,this.message=r,this.router=a,this.fb=l,this.show=!1}ngOnInit(){this.makeForm()}makeForm(){this.resetForm=this.fb.group({old_password:["",h.kI.required],new_password:["",h.kI.required],changePassword:["",h.kI.required]})}changePassword(){this.resetForm.valid?this.resetForm.value.new_password!==this.resetForm.value.changePassword?this.message.toast("info","Password and confirmed password not matched!"):this.changePasswordCall():this.show=!0}changePasswordCall(){this.http.postData("",{new_password:this.resetForm.value.new_password,old_password:this.resetForm.value.old_password}).subscribe(i=>{this.bsModalRef.hide(),this.message.toast("success",At.H.updatedSuccess),localStorage.clear(),this.router.navigate(["/login"])},i=>{})}ngOnDestroy(){this.bsModalRef.hide()}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(D.UZ),o.\u0275\u0275directiveInject(Ze.O),o.\u0275\u0275directiveInject(B.e),o.\u0275\u0275directiveInject(v.F0),o.\u0275\u0275directiveInject(h.qu))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-change-password"]],decls:29,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"form-group"],[1,"required"],["autocomplete","off","type","password","formControlName","old_password","name","old_password",1,"form-control",3,"keydown.space"],["class","text-error",4,"ngIf"],["autocomplete","off","type","password","formControlName","new_password","name","new_password",1,"form-control",3,"keydown.space"],["autocomplete","off","type","password","formControlName","changePassword","name","changePassword",1,"form-control",3,"keydown.space"],[1,"modal-footer"],["type","button",1,"form-cancel","btn","btn-default","mr-3",3,"click"],["type","submit",1,"btn","btn-outline-primary"],[1,"text-error"]],template:function(t,i){1&t&&(o.\u0275\u0275elementStart(0,"form",0),o.\u0275\u0275listener("ngSubmit",function(){return i.changePassword()}),o.\u0275\u0275elementStart(1,"div",1)(2,"h4",2),o.\u0275\u0275text(3,"Change Password"),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"label",7),o.\u0275\u0275text(9,"Old Password"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(10,"input",8),o.\u0275\u0275listener("keydown.space",function(a){return a.preventDefault()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(11,Pt,2,0,"div",9),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(12,"div",5)(13,"div",6)(14,"label",7),o.\u0275\u0275text(15,"New Password"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(16,"input",10),o.\u0275\u0275listener("keydown.space",function(a){return a.preventDefault()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(17,Nt,2,0,"div",9),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(18,"div",5)(19,"div",6)(20,"label",7),o.\u0275\u0275text(21,"Confirm Password"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(22,"input",11),o.\u0275\u0275listener("keydown.space",function(a){return a.preventDefault()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(23,Dt,2,0,"div",9),o.\u0275\u0275elementEnd()()()(),o.\u0275\u0275elementStart(24,"div",12)(25,"button",13),o.\u0275\u0275listener("click",function(){return i.bsModalRef.hide()}),o.\u0275\u0275text(26,"Cancel"),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(27,"button",14),o.\u0275\u0275text(28,"Submit"),o.\u0275\u0275elementEnd()()()),2&t&&(o.\u0275\u0275property("formGroup",i.resetForm),o.\u0275\u0275advance(11),o.\u0275\u0275property("ngIf",(null==i.resetForm.controls.old_password.errors?null:i.resetForm.controls.old_password.errors.required)&&i.show),o.\u0275\u0275advance(6),o.\u0275\u0275property("ngIf",(null==i.resetForm.controls.new_password.errors?null:i.resetForm.controls.new_password.errors.required)&&i.show),o.\u0275\u0275advance(6),o.\u0275\u0275property("ngIf",(null==i.resetForm.controls.changePassword.errors?null:i.resetForm.controls.changePassword.errors.required)&&i.show))},dependencies:[y.NgIf,h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u,Mt.mh],encapsulation:2}),e})();var Ue=s(41371),We=s(87564),Ge=s(8816);const F=function(e){return[e]},Rt=function(e){return{"font-size":e}};function Bt(e,n){if(1&e){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"a",7,8),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);const r=o.\u0275\u0275nextContext().index,a=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(a.optionClick(r,1))}),o.\u0275\u0275element(3,"i",9),o.\u0275\u0275elementStart(4,"span",10),o.\u0275\u0275text(5),o.\u0275\u0275elementEnd()()()}if(2&e){const t=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("routerLinkActive","active")("routerLink",o.\u0275\u0275pureFunction1(5,F,"/"+(null==t?null:t.path))),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngClass",t.icon)("ngStyle",o.\u0275\u0275pureFunction1(7,Rt,t.fontSize)),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(null==t?null:t.name)}}function Ft(e,n){if(1&e){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"a",19),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);const r=o.\u0275\u0275nextContext().index,a=o.\u0275\u0275nextContext(2).index,l=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(l.optionClick(a,3,r))}),o.\u0275\u0275element(1,"i",20),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()}if(2&e){const t=o.\u0275\u0275nextContext().$implicit,i=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275property("routerLink",o.\u0275\u0275pureFunction1(3,F,"/"+(null==i?null:i.path)+"/"+(null==t?null:t.path))),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",t.icon),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",null==t?null:t.name," ")}}function jt(e,n){if(1&e){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"a",21),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);const r=o.\u0275\u0275nextContext(3).index,a=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(a.optionClick(r,4))}),o.\u0275\u0275element(1,"i",20),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd()}if(2&e){const t=o.\u0275\u0275nextContext().$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",t.icon),o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate1(" ",null==t?null:t.name," ")}}function Lt(e,n){if(1&e&&(o.\u0275\u0275elementStart(0,"div",15)(1,"div",16),o.\u0275\u0275template(2,Ft,3,5,"a",17),o.\u0275\u0275template(3,jt,3,2,"a",18),o.\u0275\u0275elementEnd()()),2&e){const t=n.$implicit,i=o.\u0275\u0275nextContext(2).$implicit;o.\u0275\u0275property("id","collapseBasic")("collapse",!i.isCollapsed)("isAnimated",!0),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",null==t?null:t.path),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!(null!=t&&t.path))}}const _t=function(e){return{active:e}};function Kt(e,n){if(1&e){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li")(1,"a",11),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);const r=o.\u0275\u0275nextContext().index,a=o.\u0275\u0275nextContext();return o.\u0275\u0275resetView(a.optionClick(r,2))}),o.\u0275\u0275element(2,"i",12),o.\u0275\u0275elementStart(3,"span",10),o.\u0275\u0275text(4),o.\u0275\u0275elementEnd(),o.\u0275\u0275element(5,"i",13),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(6,Lt,4,5,"div",14),o.\u0275\u0275elementEnd()}if(2&e){const t=o.\u0275\u0275nextContext(),i=t.index,r=t.$implicit,a=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",o.\u0275\u0275pureFunction1(7,_t,a.selectedIndex==i))("routerLink",o.\u0275\u0275pureFunction1(9,F,"/"+(null==r?null:r.path)+"/"+(null!==a.childreenIndex?null==r||null==r.children1[a.childreenIndex]?null:r.children1[a.childreenIndex].path:""))),o.\u0275\u0275attribute("aria-expanded",!(null!=r&&r.isCollapsed)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",r.icon),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(null==r?null:r.name),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngClass",null!=r&&r.isCollapsed?"rotate1":"rotate2"),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",null==r?null:r.children1)}}function Vt(e,n){if(1&e&&(o.\u0275\u0275elementContainerStart(0),o.\u0275\u0275template(1,Bt,6,9,"li",6),o.\u0275\u0275template(2,Kt,7,11,"li",6),o.\u0275\u0275elementContainerEnd()),2&e){const t=n.$implicit;o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!(null!=t&&t.children1)),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",null==t?null:t.children1)}}let Ht=(()=>{class e{constructor(t,i,r,a,l){this.message=t,this.modalService=i,this.router=r,this.activatedRoute=a,this.commonService=l,this.sideBar=Ue.K$,this.selectedIndex=0,this.selectedRoute="appointments",this.showSideBar=!1,this.profileData={},localStorage.getItem("profileData")&&(this.profileData=JSON.parse(localStorage.getItem("profileData")),"SUB_ADMIN"===this.profileData.admin_type?this.setSubSideBar(this.profileData.web_roles):this.setSuperAdminSideBar(this.profileData.web_roles)),this.selectedRoute=this.router.url,this.setSelectedIndex();let d=0;this.sideBar.forEach((p,f)=>{p.children&&p.children.forEach(S=>{this.router.url==="/"+S.path&&(d=f)})}),this.optionClick(d,2)}setSubSideBar(t){let i=[];this.sideBar.forEach((r,a)=>{let l=[];t?.forEach((d,p)=>{r?.children?.forEach((f,S)=>{d?.sub_modules?.forEach((u,Fo)=>{f.id==u.name&&l.push(f)})}),r.children1=l?.length?l:null,r.id===d.name&&i.push(r)})}),this.sideBar=i,console.log(this.sideBar,"....sidebar")}setSuperAdminSideBar(t){this.sideBar.forEach((r,a)=>{r.children1=r?.children})}ngOnInit(){}setSelectedIndex(){this.sideBar.forEach((t,i)=>{this.selectedRoute==="/"+t.path&&(this.selectedIndex=i)})}logout(){this.message.confirm("Logout").then(t=>{t.isConfirmed&&this.commonService.afterLogout()})}optionClick(t,i,r){switch(this.selectedIndex!==t&&this.sideBar.forEach(a=>{a.isCollapsed=!1}),this.childreenIndex=2===i?0:void 0!==r?r:0,this.selectedIndex=t,console.log(this.childreenIndex,".selcetedindexx"),console.log(this.sideBar,"....sidebar"),i){case 1:case 3:this.showSideBar=!1;break;case 2:console.log(t,",........s"),this.sideBar[t].isCollapsed=!this.sideBar[t].isCollapsed;break;case 4:this.showSideBar=!1,this.logout()}this.showSideBar||(screen.width<=640||window.matchMedia&&window.matchMedia("only screen and (max-width: 640px)").matches)&&(document.getElementById("app-sidebar").style.width="0",document.getElementById("app-content").style["margin-left"]="0"),setTimeout(()=>{this.router.navigateByUrl(void 0!==this.childreenIndex&&this.sideBar[t]?.children1[this.childreenIndex]?.path?"/"+this.sideBar[t]?.path+"/"+this.sideBar[t]?.children1[this.childreenIndex]?.path:"/"+this.sideBar[t]?.path)},0)}changePassword(){this.modalService.show(Ot,{backdrop:"static",keyboard:!1})}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(B.e),o.\u0275\u0275directiveInject(D.tT),o.\u0275\u0275directiveInject(v.F0),o.\u0275\u0275directiveInject(v.gz),o.\u0275\u0275directiveInject(We.v))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-side-bar"]],decls:8,vars:1,consts:[["data-toggle","sidebar",1,"app-sidebar__overlay"],["id","app-sidebar",1,"app-sidebar"],[1,"app-menu"],[4,"ngFor","ngForOf"],[1,"copright"],["src","assets/images/copyr.jpg","alt","",1,"qwgdr"],[4,"ngIf"],["href","javascript://",1,"app-menu__item",3,"routerLinkActive","routerLink","click"],["rla","routerLinkActive"],[1,"fa","fa-fw",3,"ngClass","ngStyle"],[1,"app-menu__label"],["aria-controls","collapseBasic",1,"app-menu__item","sub-menu",3,"ngClass","routerLink","click"],[1,"fa","fa-fw",3,"ngClass"],[1,"fa","fa-chevron-down",3,"ngClass"],[3,"id","collapse","isAnimated",4,"ngFor","ngForOf"],[3,"id","collapse","isAnimated"],[1,"sub-menu-item","animate__animated","animate__slideInDown"],["routerLinkActive","active","href","javascript://","class","app-menu__item",3,"routerLink","click",4,"ngIf"],["routerLinkActive","active","href","javascript://","class","app-menu__item",3,"click",4,"ngIf"],["routerLinkActive","active","href","javascript://",1,"app-menu__item",3,"routerLink","click"],[1,"inner-icons","fa",3,"ngClass"],["routerLinkActive","active","href","javascript://",1,"app-menu__item",3,"click"]],template:function(t,i){1&t&&(o.\u0275\u0275element(0,"div",0),o.\u0275\u0275elementStart(1,"aside",1)(2,"ul",2),o.\u0275\u0275template(3,Vt,3,2,"ng-container",3),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(4,"div",4),o.\u0275\u0275text(5," Copyright "),o.\u0275\u0275element(6,"img",5),o.\u0275\u0275text(7," 2023-2024 "),o.\u0275\u0275elementEnd()()),2&t&&(o.\u0275\u0275advance(3),o.\u0275\u0275property("ngForOf",i.sideBar))},dependencies:[y.NgClass,y.NgForOf,y.NgIf,y.NgStyle,v.yS,v.Od,Ge.Y],encapsulation:2}),e})();var k=s(92531),c=s(15861),g=s(73408),O=s(34859),b=s(42090),E=s(98766);const ze="@firebase/installations",j="0.5.16",Xe=`w:${j}`,Ye="FIS_v2",C=new b.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qe(e){return e instanceof b.ZR&&e.code.includes("request-failed")}function L({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function qe(e){return{token:e.token,requestStatus:2,expiresIn:zt(e.expiresIn),creationTime:Date.now()}}function _(e,n){return K.apply(this,arguments)}function K(){return(K=(0,c.Z)(function*(e,n){const i=(yield n.json()).error;return C.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function et({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function tt(e,{refreshToken:n}){const t=et(e);return t.append("Authorization",function Jt(e){return`${Ye} ${e}`}(n)),t}function V(e){return H.apply(this,arguments)}function H(){return(H=(0,c.Z)(function*(e){const n=yield e();return n.status>=500&&n.status<600?e():n})).apply(this,arguments)}function zt(e){return Number(e.replace("s","000"))}function Xt(e,n){return $.apply(this,arguments)}function $(){return($=(0,c.Z)(function*({appConfig:e,heartbeatServiceProvider:n},{fid:t}){const i=L(e),r=et(e),a=n.getImmediate({optional:!0});if(a){const f=yield a.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const d={method:"POST",headers:r,body:JSON.stringify({fid:t,authVersion:Ye,appId:e.appId,sdkVersion:Xe})},p=yield V(()=>fetch(i,d));if(p.ok){const f=yield p.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:qe(f.authToken)}}throw yield _("Create Installation",p)})).apply(this,arguments)}function nt(e){return new Promise(n=>{setTimeout(n,e)})}const Qt=/^[cdef][\w-]{21}$/;function qt(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function en(e){return function Yt(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return Qt.test(t)?t:""}catch{return""}}function A(e){return`${e.appName}!${e.appId}`}const M=new Map;function ot(e,n){const t=A(e);it(t,n),function on(e,n){const t=function rt(){return!w&&"BroadcastChannel"in self&&(w=new BroadcastChannel("[Firebase] FID Change"),w.onmessage=e=>{it(e.data.key,e.data.fid)}),w}();t&&t.postMessage({key:e,fid:n}),function st(){0===M.size&&w&&(w.close(),w=null)}()}(t,n)}function it(e,n){const t=M.get(e);if(t)for(const i of t)i(n)}let w=null;const T="firebase-installations-store";let U=null;function W(){return U||(U=(0,E.X3)("firebase-installations-database",1,{upgrade:(e,n)=>{0===n&&e.createObjectStore(T)}})),U}function R(e,n){return G.apply(this,arguments)}function G(){return(G=(0,c.Z)(function*(e,n){const t=A(e),r=(yield W()).transaction(T,"readwrite"),a=r.objectStore(T),l=yield a.get(t);return yield a.put(n,t),yield r.done,(!l||l.fid!==n.fid)&&ot(e,n.fid),n})).apply(this,arguments)}function z(e){return J.apply(this,arguments)}function J(){return(J=(0,c.Z)(function*(e){const n=A(e),i=(yield W()).transaction(T,"readwrite");yield i.objectStore(T).delete(n),yield i.done})).apply(this,arguments)}function N(e,n){return X.apply(this,arguments)}function X(){return(X=(0,c.Z)(function*(e,n){const t=A(e),r=(yield W()).transaction(T,"readwrite"),a=r.objectStore(T),l=yield a.get(t),d=n(l);return void 0===d?yield a.delete(t):yield a.put(d,t),yield r.done,d&&(!l||l.fid!==d.fid)&&ot(e,d.fid),d})).apply(this,arguments)}function Y(e){return Q.apply(this,arguments)}function Q(){return(Q=(0,c.Z)(function*(e){let n;const t=yield N(e.appConfig,i=>{const r=an(i),a=ln(e,r);return n=a.registrationPromise,a.installationEntry});return""===t.fid?{installationEntry:yield n}:{installationEntry:t,registrationPromise:n}})).apply(this,arguments)}function an(e){return lt(e||{fid:qt(),registrationStatus:0})}function ln(e,n){if(0===n.registrationStatus){if(!navigator.onLine)return{installationEntry:n,registrationPromise:Promise.reject(C.create("app-offline"))};const t={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},i=function cn(e,n){return q.apply(this,arguments)}(e,t);return{installationEntry:t,registrationPromise:i}}return 1===n.registrationStatus?{installationEntry:n,registrationPromise:dn(e)}:{installationEntry:n}}function q(){return(q=(0,c.Z)(function*(e,n){try{const t=yield Xt(e,n);return R(e.appConfig,t)}catch(t){throw Qe(t)&&409===t.customData.serverCode?yield z(e.appConfig):yield R(e.appConfig,{fid:n.fid,registrationStatus:0}),t}})).apply(this,arguments)}function dn(e){return ee.apply(this,arguments)}function ee(){return(ee=(0,c.Z)(function*(e){let n=yield at(e.appConfig);for(;1===n.registrationStatus;)yield nt(100),n=yield at(e.appConfig);if(0===n.registrationStatus){const{installationEntry:t,registrationPromise:i}=yield Y(e);return i||t}return n})).apply(this,arguments)}function at(e){return N(e,n=>{if(!n)throw C.create("installation-not-found");return lt(n)})}function lt(e){return function un(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function pn(e,n){return te.apply(this,arguments)}function te(){return(te=(0,c.Z)(function*({appConfig:e,heartbeatServiceProvider:n},t){const i=fn(e,t),r=tt(e,t),a=n.getImmediate({optional:!0});if(a){const f=yield a.getHeartbeatsHeader();f&&r.append("x-firebase-client",f)}const d={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:Xe,appId:e.appId}})},p=yield V(()=>fetch(i,d));if(p.ok)return qe(yield p.json());throw yield _("Generate Auth Token",p)})).apply(this,arguments)}function fn(e,{fid:n}){return`${L(e)}/${n}/authTokens:generate`}function ne(e){return oe.apply(this,arguments)}function oe(){return(oe=(0,c.Z)(function*(e,n=!1){let t;const i=yield N(e.appConfig,a=>{if(!dt(a))throw C.create("not-registered");const l=a.authToken;if(!n&&gn(l))return a;if(1===l.requestStatus)return t=mn(e,n),a;{if(!navigator.onLine)throw C.create("app-offline");const d=vn(a);return t=hn(e,d),d}});return t?yield t:i.authToken})).apply(this,arguments)}function mn(e,n){return ie.apply(this,arguments)}function ie(){return(ie=(0,c.Z)(function*(e,n){let t=yield ct(e.appConfig);for(;1===t.authToken.requestStatus;)yield nt(100),t=yield ct(e.appConfig);const i=t.authToken;return 0===i.requestStatus?ne(e,n):i})).apply(this,arguments)}function ct(e){return N(e,n=>{if(!dt(n))throw C.create("not-registered");return function bn(e){return 1===e.requestStatus&&e.requestTime+1e4<Date.now()}(n.authToken)?Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}):n})}function hn(e,n){return re.apply(this,arguments)}function re(){return(re=(0,c.Z)(function*(e,n){try{const t=yield pn(e,n),i=Object.assign(Object.assign({},n),{authToken:t});return yield R(e.appConfig,i),t}catch(t){if(!Qe(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const i=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}});yield R(e.appConfig,i)}else yield z(e.appConfig);throw t}})).apply(this,arguments)}function dt(e){return void 0!==e&&2===e.registrationStatus}function gn(e){return 2===e.requestStatus&&!function yn(e){const n=Date.now();return n<e.creationTime||e.creationTime+e.expiresIn<n+36e5}(e)}function vn(e){const n={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:n})}function se(){return(se=(0,c.Z)(function*(e){const n=e,{installationEntry:t,registrationPromise:i}=yield Y(n);return i?i.catch(console.error):ne(n).catch(console.error),t.fid})).apply(this,arguments)}function ae(){return(ae=(0,c.Z)(function*(e,n=!1){const t=e;return yield Sn(t),(yield ne(t,n)).token})).apply(this,arguments)}function Sn(e){return le.apply(this,arguments)}function le(){return(le=(0,c.Z)(function*(e){const{registrationPromise:n}=yield Y(e);n&&(yield n)})).apply(this,arguments)}function ue(e){return C.create("missing-app-config-values",{valueName:e})}const ut="installations",En=e=>{const n=e.getProvider("app").getImmediate(),t=function xn(e){if(!e||!e.options)throw ue("App Configuration");if(!e.name)throw ue("App Name");const n=["projectId","apiKey","appId"];for(const t of n)if(!e.options[t])throw ue(t);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(n);return{app:n,appConfig:t,heartbeatServiceProvider:(0,g.qX)(n,"heartbeat"),_delete:()=>Promise.resolve()}},An=e=>{const n=e.getProvider("app").getImmediate(),t=(0,g.qX)(n,ut).getImmediate();return{getId:()=>function Cn(e){return se.apply(this,arguments)}(t),getToken:r=>function In(e){return ae.apply(this,arguments)}(t,r)}};(function Mn(){(0,g.Xd)(new O.wA(ut,En,"PUBLIC")),(0,g.Xd)(new O.wA("installations-internal",An,"PRIVATE"))})(),(0,g.KN)(ze,j),(0,g.KN)(ze,j,"esm2017");const Pn="/firebase-messaging-sw.js",Nn="/firebase-cloud-messaging-push-scope",pt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ft="google.c.a.c_id",On="google.c.a.c_l",Rn="google.c.a.ts",Bn="google.c.a.e";var P=(()=>{return(e=P||(P={})).PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",P;var e})();function I(e){const n=new Uint8Array(e);return btoa(String.fromCharCode(...n)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Fn(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(t),r=new Uint8Array(i.length);for(let a=0;a<i.length;++a)r[a]=i.charCodeAt(a);return r}const pe="fcm_token_details_db",mt="fcm_token_object_Store";function Ln(e){return fe.apply(this,arguments)}function fe(){return fe=(0,c.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(pe))return null;let n=null;return(yield(0,E.X3)(pe,5,{upgrade:(i=(0,c.Z)(function*(r,a,l,d){var p;if(a<2||!r.objectStoreNames.contains(mt))return;const f=d.objectStore(mt),S=yield f.index("fcmSenderId").get(e);if(yield f.clear(),S)if(2===a){const u=S;if(!u.auth||!u.p256dh||!u.endpoint)return;n={token:u.fcmToken,createTime:null!==(p=u.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:"string"==typeof u.vapidKey?u.vapidKey:I(u.vapidKey)}}}else if(3===a){const u=S;n={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:I(u.auth),p256dh:I(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:I(u.vapidKey)}}}else if(4===a){const u=S;n={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:I(u.auth),p256dh:I(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:I(u.vapidKey)}}}}),function(a,l,d,p){return i.apply(this,arguments)})})).close(),yield(0,E.Lj)(pe),yield(0,E.Lj)("fcm_vapid_details_db"),yield(0,E.Lj)("undefined"),_n(n)?n:null;var i}),fe.apply(this,arguments)}function _n(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:n}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof n.auth&&n.auth.length>0&&"string"==typeof n.p256dh&&n.p256dh.length>0&&"string"==typeof n.endpoint&&n.endpoint.length>0&&"string"==typeof n.swScope&&n.swScope.length>0&&"string"==typeof n.vapidKey&&n.vapidKey.length>0}const x="firebase-messaging-store";let me=null;function he(){return me||(me=(0,E.X3)("firebase-messaging-database",1,{upgrade:(e,n)=>{0===n&&e.createObjectStore(x)}})),me}function ht(e){return ge.apply(this,arguments)}function ge(){return(ge=(0,c.Z)(function*(e){const n=Ce(e),i=yield(yield he()).transaction(x).objectStore(x).get(n);if(i)return i;{const r=yield Ln(e.appConfig.senderId);if(r)return yield ye(e,r),r}})).apply(this,arguments)}function ye(e,n){return ve.apply(this,arguments)}function ve(){return(ve=(0,c.Z)(function*(e,n){const t=Ce(e),r=(yield he()).transaction(x,"readwrite");return yield r.objectStore(x).put(n,t),yield r.done,n})).apply(this,arguments)}function Hn(e){return be.apply(this,arguments)}function be(){return(be=(0,c.Z)(function*(e){const n=Ce(e),i=(yield he()).transaction(x,"readwrite");yield i.objectStore(x).delete(n),yield i.done})).apply(this,arguments)}function Ce({appConfig:e}){return e.appId}const m=new b.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zn(e,n){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,c.Z)(function*(e,n){var t;const i=yield xe(e),r=yt(n),a={method:"POST",headers:i,body:JSON.stringify(r)};let l;try{l=yield(yield fetch(Te(e.appConfig),a)).json()}catch(d){throw m.create("token-subscribe-failed",{errorInfo:null===(t=d)||void 0===t?void 0:t.toString()})}if(l.error)throw m.create("token-subscribe-failed",{errorInfo:l.error.message});if(!l.token)throw m.create("token-subscribe-no-token");return l.token})).apply(this,arguments)}function Un(e,n){return Se.apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(e,n){var t;const i=yield xe(e),r=yt(n.subscriptionOptions),a={method:"PATCH",headers:i,body:JSON.stringify(r)};let l;try{l=yield(yield fetch(`${Te(e.appConfig)}/${n.token}`,a)).json()}catch(d){throw m.create("token-update-failed",{errorInfo:null===(t=d)||void 0===t?void 0:t.toString()})}if(l.error)throw m.create("token-update-failed",{errorInfo:l.error.message});if(!l.token)throw m.create("token-update-no-token");return l.token})).apply(this,arguments)}function gt(e,n){return we.apply(this,arguments)}function we(){return(we=(0,c.Z)(function*(e,n){var t;const r={method:"DELETE",headers:yield xe(e)};try{const l=yield(yield fetch(`${Te(e.appConfig)}/${n}`,r)).json();if(l.error)throw m.create("token-unsubscribe-failed",{errorInfo:l.error.message})}catch(a){throw m.create("token-unsubscribe-failed",{errorInfo:null===(t=a)||void 0===t?void 0:t.toString()})}})).apply(this,arguments)}function Te({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}function xe(e){return ke.apply(this,arguments)}function ke(){return(ke=(0,c.Z)(function*({appConfig:e,installations:n}){const t=yield n.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function yt({p256dh:e,auth:n,endpoint:t,vapidKey:i}){const r={web:{endpoint:t,auth:n,p256dh:e}};return i!==pt&&(r.web.applicationPubKey=i),r}const Wn=6048e5;function Gn(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,c.Z)(function*(e){const n=yield Jn(e.swRegistration,e.vapidKey),t={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:n.endpoint,auth:I(n.getKey("auth")),p256dh:I(n.getKey("p256dh"))},i=yield ht(e.firebaseDependencies);if(i){if(Xn(i.subscriptionOptions,t))return Date.now()>=i.createTime+Wn?zn(e,{token:i.token,createTime:Date.now(),subscriptionOptions:t}):i.token;try{yield gt(e.firebaseDependencies,i.token)}catch(r){console.warn(r)}return bt(e.firebaseDependencies,t)}return bt(e.firebaseDependencies,t)})).apply(this,arguments)}function vt(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,c.Z)(function*(e){const n=yield ht(e.firebaseDependencies);n&&(yield gt(e.firebaseDependencies,n.token),yield Hn(e.firebaseDependencies));const t=yield e.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function zn(e,n){return Me.apply(this,arguments)}function Me(){return(Me=(0,c.Z)(function*(e,n){try{const t=yield Un(e.firebaseDependencies,n),i=Object.assign(Object.assign({},n),{token:t,createTime:Date.now()});return yield ye(e.firebaseDependencies,i),t}catch(t){throw yield vt(e),t}})).apply(this,arguments)}function bt(e,n){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,c.Z)(function*(e,n){const i={token:yield Zn(e,n),createTime:Date.now(),subscriptionOptions:n};return yield ye(e,i),i.token})).apply(this,arguments)}function Jn(e,n){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,c.Z)(function*(e,n){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Fn(n)})})).apply(this,arguments)}function Xn(e,n){return n.vapidKey===e.vapidKey&&n.endpoint===e.endpoint&&n.auth===e.auth&&n.p256dh===e.p256dh}function Ct(e){const n={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function Yn(e,n){if(!n.notification)return;e.notification={};const t=n.notification.title;t&&(e.notification.title=t);const i=n.notification.body;i&&(e.notification.body=i);const r=n.notification.image;r&&(e.notification.image=r);const a=n.notification.icon;a&&(e.notification.icon=a)}(n,e),function Qn(e,n){!n.data||(e.data=n.data)}(n,e),function qn(e,n){var t,i,r,a,l;if(!(n.fcmOptions||null!==(t=n.notification)&&void 0!==t&&t.click_action))return;e.fcmOptions={};const d=null!==(r=null===(i=n.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(a=n.notification)||void 0===a?void 0:a.click_action;d&&(e.fcmOptions.link=d);const p=null===(l=n.fcmOptions)||void 0===l?void 0:l.analytics_label;p&&(e.fcmOptions.analyticsLabel=p)}(n,e),n}function eo(e){return"object"==typeof e&&!!e&&ft in e}function It(e,n){const t=[];for(let i=0;i<e.length;i++)t.push(e.charAt(i)),i<n.length&&t.push(n.charAt(i));return t.join("")}function De(e){return m.create("missing-app-config-values",{valueName:e})}It("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),It("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class no{constructor(n,t,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function to(e){if(!e||!e.options)throw De("App Configuration Object");if(!e.name)throw De("App Name");const n=["projectId","apiKey","appId","messagingSenderId"],{options:t}=e;for(const i of n)if(!t[i])throw De(i);return{appName:e.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(n);this.firebaseDependencies={app:n,appConfig:r,installations:t,analyticsProvider:i}}_delete(){return Promise.resolve()}}function St(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,c.Z)(function*(e){var n;try{e.swRegistration=yield navigator.serviceWorker.register(Pn,{scope:Nn}),e.swRegistration.update().catch(()=>{})}catch(t){throw m.create("failed-service-worker-registration",{browserErrorMessage:null===(n=t)||void 0===n?void 0:n.message})}})).apply(this,arguments)}function oo(e,n){return Re.apply(this,arguments)}function Re(){return(Re=(0,c.Z)(function*(e,n){if(!n&&!e.swRegistration&&(yield St(e)),n||!e.swRegistration){if(!(n instanceof ServiceWorkerRegistration))throw m.create("invalid-sw-registration");e.swRegistration=n}})).apply(this,arguments)}function io(e,n){return Be.apply(this,arguments)}function Be(){return(Be=(0,c.Z)(function*(e,n){n?e.vapidKey=n:e.vapidKey||(e.vapidKey=pt)})).apply(this,arguments)}function wt(e,n){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,c.Z)(function*(e,n){if(!navigator)throw m.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw m.create("permission-blocked");return yield io(e,n?.vapidKey),yield oo(e,n?.serviceWorkerRegistration),Gn(e)})).apply(this,arguments)}function ro(e,n,t){return je.apply(this,arguments)}function je(){return(je=(0,c.Z)(function*(e,n,t){const i=so(n);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:t[ft],message_name:t[On],message_time:t[Rn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function so(e){switch(e){case P.NOTIFICATION_CLICKED:return"notification_open";case P.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Le(){return(Le=(0,c.Z)(function*(e,n){const t=n.data;if(!t.isFirebaseMessaging)return;e.onMessageHandler&&t.messageType===P.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(Ct(t)):e.onMessageHandler.next(Ct(t)));const i=t.data;eo(i)&&"1"===i[Bn]&&(yield ro(e,t.messageType,i))})).apply(this,arguments)}const Tt="@firebase/messaging",lo=e=>{const n=new no(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function ao(e,n){return Le.apply(this,arguments)}(n,t)),n},co=e=>{const n=e.getProvider("messaging").getImmediate();return{getToken:i=>wt(n,i)}};function _e(){return(_e=(0,c.Z)(function*(){try{yield(0,b.eu)()}catch{return!1}return typeof window<"u"&&(0,b.hl)()&&(0,b.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function kt(e=(0,g.Mq)()){return function po(){return _e.apply(this,arguments)}().then(n=>{if(!n)throw m.create("unsupported-browser")},n=>{throw m.create("indexed-db-unsupported")}),(0,g.qX)((0,b.m9)(e),"messaging").getImmediate()}function Ve(){return(Ve=(0,c.Z)(function*(e,n){return wt(e=(0,b.m9)(e),n)})).apply(this,arguments)}!function uo(){(0,g.Xd)(new O.wA("messaging",lo,"PUBLIC")),(0,g.Xd)(new O.wA("messaging-internal",co,"PRIVATE")),(0,g.KN)(Tt,"0.11.0"),(0,g.KN)(Tt,"0.11.0","esm2017")}();var yo=s(92340),vo=s(42382),He=s(59245);function bo(e,n){if(1&e&&(o.\u0275\u0275elementStart(0,"span",8),o.\u0275\u0275text(1),o.\u0275\u0275elementEnd()),2&e){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(1),o.\u0275\u0275textInterpolate(null==t.profileData?null:t.profileData.notification_count)}}function Co(e,n){if(1&e){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"a",14),o.\u0275\u0275listener("click",function(){o.\u0275\u0275restoreView(t);const r=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(r.clearNotifications())}),o.\u0275\u0275text(1," Clear All"),o.\u0275\u0275elementEnd()}}function Io(e,n){if(1&e){const t=o.\u0275\u0275getCurrentView();o.\u0275\u0275elementStart(0,"li",15)(1,"h5",16),o.\u0275\u0275text(2),o.\u0275\u0275elementStart(3,"i",17),o.\u0275\u0275listener("click",function(){const a=o.\u0275\u0275restoreView(t).$implicit,l=o.\u0275\u0275nextContext(2);return o.\u0275\u0275resetView(l.clearNotifications(a))}),o.\u0275\u0275elementEnd()(),o.\u0275\u0275elementStart(4,"p",18),o.\u0275\u0275text(5),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(6,"span",18),o.\u0275\u0275text(7),o.\u0275\u0275pipe(8,"date"),o.\u0275\u0275elementEnd()()}if(2&e){const t=n.$implicit;o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1("",null==t?null:t.title," "),o.\u0275\u0275advance(3),o.\u0275\u0275textInterpolate(null==t?null:t.message),o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate(o.\u0275\u0275pipeBind2(8,3,null==t?null:t.created_at,"short"))}}function So(e,n){1&e&&o.\u0275\u0275element(0,"app-no-record")}function wo(e,n){if(1&e&&(o.\u0275\u0275elementStart(0,"ul",9)(1,"li",10)(2,"h3"),o.\u0275\u0275text(3,"Notifications"),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(4,Co,2,0,"a",11),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(5,Io,9,6,"li",12),o.\u0275\u0275template(6,So,1,0,"app-no-record",13),o.\u0275\u0275elementEnd()),2&e){const t=o.\u0275\u0275nextContext();o.\u0275\u0275advance(4),o.\u0275\u0275property("ngIf",null==t.notifications?null:t.notifications.length),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngForOf",t.notifications),o.\u0275\u0275advance(1),o.\u0275\u0275property("ngIf",!(null!=t.notifications&&t.notifications.length))}}let To=(()=>{class e{constructor(t,i,r,a,l){this.commonService=t,this.router=i,this.messageService=r,this.http=a,this.modalService=l,this.showSideBar=!0,this.appTitle=Ue.s.SITE_NAME,this.profileData={},this.notifications=[],this.message=null}ngOnInit(){this.commonService.getProfileData(),this.getNotifications(),this.getProfileData(),this.requestPermission(),this.listen()}requestPermission(){(function ho(e,n){return Ve.apply(this,arguments)})(kt(),{vapidKey:yo.N.firebase.vapidKey}).then(i=>{i?(this.device_token=i,localStorage.setItem("device_token",i),this.saveToken()):console.log("No registration token available. Request permission to generate one.")}).catch(i=>{console.log("An error occurred while retrieving token. ",i)})}listen(){!function go(e,n){return function mo(e,n){if(!navigator)throw m.create("only-available-in-window");return e.onMessageHandler=n,()=>{e.onMessageHandler=null}}(e=(0,b.m9)(e),n)}(kt(),i=>{console.log("Message received. ",i),this.message=i,this.messageService.toast("info",this.message.notification.title)})}saveToken(){this.http.postData(k.l.update_device_token,{device_type:3,device_token:this.device_token}).subscribe(i=>{})}getProfileData(){this.http.getData(k.l.access_token_login,{},!0).subscribe(t=>{this.profileData=t.data})}getMessage(){this.commonService.getMessage().subscribe(t=>{})}onShown(){this.getNotifications()}getNotifications(){this.http.getData(k.l.list_notification,{},!0).subscribe(t=>{this.notifications=t.data})}readNotifications(){this.http.putData(k.l.read_notification,!0).subscribe(t=>{this.getProfileData()})}clearNotifications(t){let i={};t&&(i._id=t._id),this.http.putData(k.l.clear_notification,i).subscribe(r=>{this.getNotifications()})}apiHit(){let t={device_token:localStorage.getItem("device_token"),message:"hiiiii"};this.http.postData(k.l.send_custom_notification,t).subscribe(i=>{})}logout(){this.message.confirm("Logout").then(t=>{t.isConfirmed&&this.commonService.afterLogout()})}closeNav(){this.showSideBar?(document.getElementById("app-sidebar").style.width="230px",document.getElementById("app-content").style["margin-left"]="230px"):(document.getElementById("app-sidebar").style.width="56px",document.getElementById("app-content").style["margin-left"]="53px")}}return e.\u0275fac=function(t){return new(t||e)(o.\u0275\u0275directiveInject(We.v),o.\u0275\u0275directiveInject(v.F0),o.\u0275\u0275directiveInject(B.e),o.\u0275\u0275directiveInject(Ze.O),o.\u0275\u0275directiveInject(D.tT))},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-header"]],decls:9,vars:3,consts:[[1,"app-header"],["href","javascript://",1,"app-header__logo"],[1,"app-nav"],[1,"item_btn","header-right-side"],["dropdown","","placement","bottom left",3,"insideClick","onShown"],["src","/assets/images/noti-icon.png","href","","id","basic-link","dropdownToggle","","aria-controls","basic-link-dropdown",3,"click"],["class","show-count",4,"ngIf"],["id","basic-link-dropdown ","class","dropdown-menu dropdown-menu-left","role","menu","aria-labelledby","basic-link",4,"dropdownMenu"],[1,"show-count"],["id","basic-link-dropdown ","role","menu","aria-labelledby","basic-link",1,"dropdown-menu","dropdown-menu-left"],[1,"noti-header"],[3,"click",4,"ngIf"],["class","noti-list row",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"],[1,"noti-list","row"],[1,"col-md-12","awdadw"],[1,"fa","fa-times","close-icon",2,"position","unset",3,"click"],[1,"col-md-12"]],template:function(t,i){1&t&&(o.\u0275\u0275elementStart(0,"header",0)(1,"a",1),o.\u0275\u0275text(2),o.\u0275\u0275elementEnd(),o.\u0275\u0275elementStart(3,"ul",2)(4,"li",3)(5,"div",4),o.\u0275\u0275listener("onShown",function(){return i.onShown()}),o.\u0275\u0275elementStart(6,"img",5),o.\u0275\u0275listener("click",function(){return i.readNotifications()}),o.\u0275\u0275elementEnd(),o.\u0275\u0275template(7,bo,2,1,"span",6),o.\u0275\u0275template(8,wo,7,3,"ul",7),o.\u0275\u0275elementEnd()()()()),2&t&&(o.\u0275\u0275advance(2),o.\u0275\u0275textInterpolate1(" ",i.appTitle,"\n"),o.\u0275\u0275advance(3),o.\u0275\u0275property("insideClick",!0),o.\u0275\u0275advance(2),o.\u0275\u0275property("ngIf",null==i.profileData?null:i.profileData.notification_count))},dependencies:[y.NgForOf,y.NgIf,vo.b,He.Hz,He.Mq,He.TO,y.DatePipe],encapsulation:2}),e})();const xo=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.\u0275\u0275defineComponent({type:e,selectors:[["app-layout"]],decls:6,vars:0,consts:[[1,"app","sidebar-mini"],["id","app-content",1,"app-content"],[1,"container-fluid","mt-3","every-page-top"]],template:function(t,i){1&t&&(o.\u0275\u0275elementStart(0,"div",0),o.\u0275\u0275element(1,"app-header")(2,"app-side-bar"),o.\u0275\u0275elementStart(3,"main",1)(4,"div",2),o.\u0275\u0275element(5,"router-outlet"),o.\u0275\u0275elementEnd()()())},dependencies:[v.lC,Ht,To],encapsulation:2}),e})(),children:[{path:"",redirectTo:"/owners",pathMatch:"full"},{path:"owners",loadChildren:()=>s.e(637).then(s.bind(s,26637)).then(e=>e.FoundersModule),data:{breadcrumb:"Founders",title:"founder"}},{path:"agents",loadChildren:()=>s.e(455).then(s.bind(s,54455)).then(e=>e.AgentsModule),data:{breadcrumb:"Agents",title:"agent"}},{path:"banners",loadChildren:()=>s.e(59).then(s.bind(s,6059)).then(e=>e.BannersModule),data:{breadcrumb:"Banners",title:"banner"}},{path:"admins",loadChildren:()=>s.e(279).then(s.bind(s,96279)).then(e=>e.AdminsModule),data:{breadcrumb:"Admins",title:"admin"}},{path:"members",loadChildren:()=>s.e(450).then(s.bind(s,18450)).then(e=>e.MembersModule),data:{breadcrumb:"Members",title:"member"}},{path:"location",loadChildren:()=>s.e(189).then(s.bind(s,72189)).then(e=>e.LocationModule),data:{breadcrumb:"Locations",title:"location"}},{path:"properties",loadChildren:()=>s.e(120).then(s.bind(s,87120)).then(e=>e.PropertiesModule),data:{breadcrumb:"Properties",title:"property"}},{path:"budgets",loadChildren:()=>s.e(855).then(s.bind(s,64855)).then(e=>e.BudgetsModule),data:{breadcrumb:"Property Budgets",title:"budget"}},{path:"settings",loadChildren:()=>s.e(670).then(s.bind(s,32670)).then(e=>e.SettingsModule),data:{breadcrumb:"Settings",title:"setting"}},{path:"purposes",loadChildren:()=>s.e(945).then(s.bind(s,43945)).then(e=>e.PurposesModule),data:{breadcrumb:"Property Purposes",title:"purpose"}},{path:"recycle-bin",loadChildren:()=>s.e(720).then(s.bind(s,45720)).then(e=>e.RecycleBinModule),data:{breadcrumb:"Recycle Bin",title:"Recycle Bin"}},{path:"reasons",loadChildren:()=>s.e(43).then(s.bind(s,66043)).then(e=>e.ReasonsModule),data:{breadcrumb:"Reject Reasons",title:"reason"}},{path:"profile",loadChildren:()=>s.e(76).then(s.bind(s,44076)).then(e=>e.ProfileModule),data:{breadcrumb:"Admin profile",title:"profile"}},{path:"pending-payment",loadChildren:()=>Promise.all([s.e(266),s.e(592),s.e(431)]).then(s.bind(s,47431)).then(e=>e.PendingPaymentModule),data:{breadcrumb:"Pending Payments",title:"Pending Payments"}},{path:"transaction-history",loadChildren:()=>Promise.all([s.e(266),s.e(72)]).then(s.bind(s,32072)).then(e=>e.TransactionHistoryModule),data:{breadcrumb:"Transaction History",title:"Transaction History"}},{path:"advance-request",loadChildren:()=>Promise.all([s.e(266),s.e(592),s.e(621)]).then(s.bind(s,4621)).then(e=>e.AdvanceRequestModule),data:{breadcrumb:"Advance Request",title:"Advance Request"}},{path:"developers",loadChildren:()=>s.e(624).then(s.bind(s,73624)).then(e=>e.DevelopersModule),data:{breadcrumb:"Developers",title:"developer"}},{path:"commissions",loadChildren:()=>s.e(994).then(s.bind(s,62994)).then(e=>e.CommissionsModule),data:{breadcrumb:"Commissions",title:"commission"}},{path:"change-password",loadChildren:()=>s.e(233).then(s.bind(s,96233)).then(e=>e.ChangePasswordModule),data:{breadcrumb:"Change Password",title:"Change Password"}},{path:"add-new-property",loadChildren:()=>s.e(88).then(s.bind(s,64088)).then(e=>e.AddNewPropertyModule),data:{breadcrumb:"Developers",title:"developer"}},{path:"info-pages/:type",loadChildren:()=>s.e(202).then(s.bind(s,91202)).then(e=>e.InfoPagesModule),data:{breadcrumb:"Info pages",title:"info pages"}},{path:"customer-leads",loadChildren:()=>s.e(235).then(s.bind(s,90235)).then(e=>e.CustomerLeadsModule),data:{breadcrumb:"Customer leads",title:"customer-leads"}},{path:"property-categories",loadChildren:()=>s.e(423).then(s.bind(s,29423)).then(e=>e.PropertyCategoriesModule),data:{breadcrumb:"Property Categories",title:"property category"}}]}];let ko=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({imports:[y.CommonModule,v.Bz.forChild(xo),v.Bz]}),e})();var Et=s(24250);let Eo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({imports:[y.CommonModule,Et.m,h.u5]}),e})(),Ao=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=o.\u0275\u0275defineInjector({imports:[y.CommonModule,ko,D.zk.forRoot(),Eo,h.UX,Ge.f,Et.m]}),e})()}}]);