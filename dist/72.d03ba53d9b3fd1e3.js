"use strict";(self.webpackChunkoffice=self.webpackChunkoffice||[]).push([[72],{2072:(L,u,a)=>{a.r(u),a.d(u,{TransactionHistoryModule:()=>M});var m=a(6895),g=a(2227),s=a(5522),e=a(1571),_=a(3755),b=a(7564),c=a(8867),x=a(1305),v=a(2382),d=a(433),p=a(4333),h=a(2553);function f(t,o){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"b"),e.\u0275\u0275text(2,"Name:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(3),e.\u0275\u0275element(4,"br"),e.\u0275\u0275elementStart(5,"b"),e.\u0275\u0275text(6,"Phone No."),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275element(8,"br"),e.\u0275\u0275elementContainerEnd()),2&t){const n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",(null==n||null==n.booking_id||null==n.booking_id.member_id?null:n.booking_id.member_id.name)||"-",""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2(" ",null==n||null==n.booking_id||null==n.booking_id.member_id?null:n.booking_id.member_id.country_code,"",(null==n||null==n.booking_id||null==n.booking_id.member_id?null:n.booking_id.member_id.phone_number)||"-"," ")}}function E(t,o){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"b"),e.\u0275\u0275text(2,"Name:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(3),e.\u0275\u0275element(4,"br"),e.\u0275\u0275elementStart(5,"b"),e.\u0275\u0275text(6,"Phone No.:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275element(8,"br"),e.\u0275\u0275elementContainerEnd()),2&t){const n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",(null==n||null==n.booking_id||null==n.booking_id.group_owner_id?null:n.booking_id.group_owner_id.name)||"-",""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2(" ",(null==n||null==n.booking_id||null==n.booking_id.group_owner_id?null:n.booking_id.group_owner_id.country_code)||"-","",(null==n||null==n.booking_id||null==n.booking_id.group_owner_id?null:n.booking_id.group_owner_id.phone_number)||"-"," ")}}function y(t,o){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"b"),e.\u0275\u0275text(2,"Name:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(3),e.\u0275\u0275element(4,"br"),e.\u0275\u0275elementStart(5,"b"),e.\u0275\u0275text(6,"Phone No.:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275element(8,"br"),e.\u0275\u0275elementContainerEnd()),2&t){const n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",(null==n||null==n.booking_id||null==n.booking_id.agent_id?null:n.booking_id.agent_id.name)||"-",""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2(" ",(null==n||null==n.booking_id||null==n.booking_id.agent_id?null:n.booking_id.agent_id.country_code)||"-","",(null==n||null==n.booking_id||null==n.booking_id.agent_id?null:n.booking_id.agent_id.phone_number)||"-"," ")}}function S(t,o){if(1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"b"),e.\u0275\u0275text(2,"Name:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(3),e.\u0275\u0275element(4,"br"),e.\u0275\u0275elementStart(5,"b"),e.\u0275\u0275text(6,"Phone No.:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(7),e.\u0275\u0275element(8,"br"),e.\u0275\u0275elementContainerEnd()),2&t){const n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",(null==n||null==n.booking_id?null:n.booking_id.name)||"-",""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2(" ",(null==n||null==n.booking_id?null:n.booking_id.country_code)||"-","",(null==n||null==n.booking_id?null:n.booking_id.phone_number)||"-"," ")}}function C(t,o){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td")(7,"b"),e.\u0275\u0275text(8,"Property Name:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(9),e.\u0275\u0275element(10,"br"),e.\u0275\u0275elementStart(11,"b"),e.\u0275\u0275text(12,"Developer Name:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(13),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"td")(15,"b"),e.\u0275\u0275text(16,"Name:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(17),e.\u0275\u0275element(18,"br"),e.\u0275\u0275elementStart(19,"b"),e.\u0275\u0275text(20,"Phone No."),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(21),e.\u0275\u0275element(22,"br"),e.\u0275\u0275elementStart(23,"b",27),e.\u0275\u0275text(24,"Completed On:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(25),e.\u0275\u0275pipe(26,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(27,"td"),e.\u0275\u0275template(28,f,9,3,"ng-container",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"td"),e.\u0275\u0275template(30,E,9,3,"ng-container",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"td"),e.\u0275\u0275template(32,y,9,3,"ng-container",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(33,"td"),e.\u0275\u0275template(34,S,9,3,"ng-container",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"td")(36,"img",29),e.\u0275\u0275listener("click",function(){const i=e.\u0275\u0275restoreView(n).$implicit,w=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(w.commonService.openLightBox(i.transaction_image))}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(37,"td")(38,"b"),e.\u0275\u0275text(39,"Transaction id:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(40),e.\u0275\u0275element(41,"br"),e.\u0275\u0275elementStart(42,"b"),e.\u0275\u0275text(43,"Transaction Comment:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(44),e.\u0275\u0275element(45,"br"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"td")(47,"b"),e.\u0275\u0275text(48,"Property Price:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(49),e.\u0275\u0275element(50,"br"),e.\u0275\u0275elementStart(51,"b"),e.\u0275\u0275text(52,"Advance Payment:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(53),e.\u0275\u0275element(54,"br"),e.\u0275\u0275elementStart(55,"b"),e.\u0275\u0275text(56,"Pending Payment:"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(57),e.\u0275\u0275element(58,"br"),e.\u0275\u0275elementEnd()()}if(2&t){const n=o.$implicit,l=o.index,r=e.\u0275\u0275nextContext(),i=e.\u0275\u0275reference(60);e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" ",10*(r.pagination.pageNo-1)+l+1," "),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(5,23,null==n?null:n.time,"short")),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",(null==n||null==n.booking_id||null==n.booking_id.peroperty_id?null:n.booking_id.peroperty_id.name)||"-",""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",(null==n||null==n.booking_id||null==n.booking_id.peroperty_id||null==n.booking_id.peroperty_id.developer_id?null:n.booking_id.peroperty_id.developer_id.name)||"-"," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",(null==n||null==n.group_owner_id?null:n.group_owner_id.name)||(null==n||null==n.agent_id?null:n.agent_id.name)||(null==n||null==n.member_id?null:n.member_id.name),""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2(" ",(null==n||null==n.group_owner_id?null:n.group_owner_id.country_code)||(null==n||null==n.agent_id?null:n.agent_id.country_code)||(null==n||null==n.member_id?null:n.member_id.country_code)," ",(null==n||null==n.group_owner_id?null:n.group_owner_id.phone_number)||(null==n||null==n.agent_id?null:n.agent_id.phone_number)||(null==n||null==n.member_id?null:n.member_id.phone_number)," "),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate2(" ",e.\u0275\u0275pipeBind2(26,26,null==n?null:n.time,"short")," ",null!=n&&n.advanced_request?"Advanced Paid":"Paid After completion "," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",null==n||null==n.booking_id||null==n.booking_id.member_id?null:n.booking_id.member_id.name)("ngIfElse",i),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==n||null==n.booking_id||null==n.booking_id.group_owner_id?null:n.booking_id.group_owner_id.name)("ngIfElse",i),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==n||null==n.booking_id||null==n.booking_id.agent_id?null:n.booking_id.agent_id.name)("ngIfElse",i),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",null==n||null==n.booking_id?null:n.booking_id.name)("ngIfElse",i),e.\u0275\u0275advance(2),e.\u0275\u0275property("src",n.transaction_image||"/assets/images/no-img.webp",e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",(null==n?null:n.transaction_id)||"-",""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",(null==n?null:n.transaction_comment)||"-"," "),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate1(" ",null==n?null:n.commission_price,""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",null==n?null:n.advanced_price,""),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",(null==n?null:n.total_price)-(null==n?null:n.advanced_price),"")}}function k(t,o){1&t&&e.\u0275\u0275element(0,"app-no-record")}function I(t,o){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0)(1,"div",30)(2,"p"),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",31)(5,"pagination-controls",32),e.\u0275\u0275listener("pageChange",function(r){e.\u0275\u0275restoreView(n);const i=e.\u0275\u0275nextContext();return i.pagination.pageNo=r,e.\u0275\u0275resetView(i.getData())}),e.\u0275\u0275elementEnd()()()}if(2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate3(" Showing ",0===n.pagination.count?0:n.pagination.skip+1," to ",n.commonService.cal(n.pagination.pageNo,n.pagination.limit,n.pagination.count)," out of ",n.pagination.count," entries ")}}function T(t,o){1&t&&e.\u0275\u0275text(0," -\n")}const N=function(t,o,n){return{itemsPerPage:t,currentPage:o,totalItems:n}};let P=(()=>{class t{constructor(n,l,r,i){this.http=n,this.commonService=l,this.router=r,this.lightbox=i,this.allData=[],this.date="",this.pagination=new g.j,this.search="",this.type=""}ngOnInit(){this.getData()}getData(){this.pagination.skip=(this.pagination.pageNo-1)*this.pagination.limit;let n={skip:this.pagination.skip,type:"COMPLETED"};this.search&&(n.search=this.search),this.type&&(n.type=this.type),this.http.getData(s.l.accounts_list,n).subscribe(l=>{this.allData=l.data.data,this.pagination.count=l.data.total_count},()=>{})}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(_.O),e.\u0275\u0275directiveInject(b.v),e.\u0275\u0275directiveInject(c.F0),e.\u0275\u0275directiveInject(x.ey))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["app-accounts"]],decls:61,vars:13,consts:[[1,"row"],[1,"col-md-12"],[1,"my-box"],[1,"col-md-6"],[1,"card-title","float-left"],[1,"col-md-3","text-right"],[1,"sm-input-space"],[1,"input-group","mb-3"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"input-group-text",3,"click"],[1,"fa","fa-search"],[1,"col-md-3","text-right","sm-input-space"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],["value","EARLY"],["value","PENDING"],["value","COMPLETED"],["value","DECLINED"],[1,"row","mt-3","mb-2"],[1,"table-responsive"],[1,"table","table-hover","account-table"],[2,"width","60px"],[1,"col-width"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","row",4,"ngIf"],["noData",""],[1,"highlighted-text"],[4,"ngIf","ngIfElse"],[1,"proof-img",3,"src","click"],[1,"col-sm-6"],[1,"col-sm-6","text-right"],["previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",3,"pageChange"]],template:function(n,l){1&n&&(e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",0)(4,"div",3)(5,"h4",4),e.\u0275\u0275text(6),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(7,"div",5)(8,"div",6)(9,"div",7)(10,"input",8),e.\u0275\u0275listener("ngModelChange",function(i){return l.search=i})("keyup.enter",function(){return l.getData()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"span",9),e.\u0275\u0275listener("click",function(){return l.getData()}),e.\u0275\u0275element(12,"i",10),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(13,"div",11)(14,"select",12),e.\u0275\u0275listener("ngModelChange",function(i){return l.type=i})("change",function(){return l.pagination.pageNo=1,l.getData()}),e.\u0275\u0275elementStart(15,"option",13),e.\u0275\u0275text(16,"All Transactions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"option",14),e.\u0275\u0275text(18,"Advanced"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"option",15),e.\u0275\u0275text(20,"Pending"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"option",16),e.\u0275\u0275text(22,"Completed"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"option",17),e.\u0275\u0275text(24,"Declined"),e.\u0275\u0275elementEnd()()()()()()(),e.\u0275\u0275elementStart(25,"div",18)(26,"div",1)(27,"div",2)(28,"div",19)(29,"table",20)(30,"thead")(31,"tr")(32,"th",21),e.\u0275\u0275text(33,"Sr. No."),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"th",21),e.\u0275\u0275text(35,"Date & Time"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"th",22),e.\u0275\u0275text(37,"Property Info"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"th",22),e.\u0275\u0275text(39,"Transferred To"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"th",22),e.\u0275\u0275text(41,"Member Info"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"th",22),e.\u0275\u0275text(43,"Group Info"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"th",22),e.\u0275\u0275text(45,"Agent Info"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(46,"th",22),e.\u0275\u0275text(47,"Customer Info"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"th",22),e.\u0275\u0275text(49,"Proof of Transaction"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"th",22),e.\u0275\u0275text(51,"Transaction Details"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"th",22),e.\u0275\u0275text(53,"Payment Details"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(54,"tbody"),e.\u0275\u0275template(55,C,59,29,"tr",23),e.\u0275\u0275pipe(56,"paginate"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(57,k,1,0,"app-no-record",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(58,I,6,3,"div",25),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(59,T,1,0,"ng-template",null,26,e.\u0275\u0275templateRefExtractor)),2&n&&(e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate1(" ",null==l.commonService?null:l.commonService.breadcrumb," "),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",l.search),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngModel",l.type),e.\u0275\u0275advance(41),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind2(56,6,l.allData,e.\u0275\u0275pureFunction3(9,N,l.pagination.pageSize,l.pagination.pageNo,l.pagination.count))),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!l.pagination.count),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",l.pagination.count))},dependencies:[m.NgForOf,m.NgIf,v.b,d.NgSelectOption,d.\u0275NgSelectMultipleOption,d.DefaultValueAccessor,d.SelectControlValueAccessor,d.NgControlStatus,p.LS,d.NgModel,h.mh,m.DatePipe,p._s],encapsulation:2}),t})();var D=a(6834);const H=[{path:"",component:P}];let M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[m.CommonModule,D.m,c.Bz.forChild(H)]}),t})()}}]);